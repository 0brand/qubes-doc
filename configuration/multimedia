This short howto will explain how you can use Spotify, Netflix or Amazon Prime under Qubes OS.
This steps have been tested by providing an own "multimedia" App VM which is based on the Qubes OS Debian 8 Template VM.

Listen to Spotify
=================
Install-Howto: https://www.spotify.com/de/download/linux/

Detailed steps:

1) sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys BBEBDCB318AD50EC6865090613B00F1FD2C19886
2) echo deb http://repository.spotify.com stable non-free | sudo tee /etc/apt/sources.list.d/spotify.list
3) sudo apt-get update
4) sudo apt-get install spotify-client

I could then start the native spotify client .. easy.


Play Netflix
============
The built in Firefox (from the Debian Template VM) was Firefox ESR 45.3.0
According to the "supported browser" list Mozilla Firefox >= 47.x is needed.
I've thereoff installed Firefox v53.0.2 according to this manual:
http://libre-software.net/how-to-install-firefox-on-ubuntu-linux-mint/

1) download firefox from https://www.mozilla.org/en-US/firefox/new/?scene=2
direct download link:
https://download-installer.cdn.mozilla.net/pub/firefox/releases/53.0.2/linux-x86_64/en-US/firefox-53.0.2.tar.bz2

2) unpack the downloaded file
tar -xjf firefox-53.0.2.tar.bz2

3) move the unpacked folder:
sudo mv firefox /opt/firefox53

4) Create a symlink to the new firefox version:
if you want to use the new installed firefox as "standard firefox", rename the original link in case you want to go back to the previous version
sudo mv /usr/bin/firefox /usr/bin/firefox-old
Create a link to the new firefox version
sudo ln -s /opt/firefox53/firefox /usr/bin/firefox

5) Launch firefox and open Preferences, Content and enable "Play DRM content"
That's it, login into Netflix and enjoy.


How to use Amazon Prime
=======================
If you have setup everything to watch netflix (see above), Amazon Prime should also work.
Enjoy"


Play DVDs
=========

To play DVDs within Qubes I have used my new multimedia App VM (which can also play Spotify and Netflix, see post from yesterday).
The multimedia App-VM is based on the Debian 8 Template in Qubes 3.2

Some suggested to install the whole desktop within the Debian Image, I don't want to install everything but only the stuff, that is really needed.
As such I have looked at the Debian documentation

1) Launch Debian 8 Template VM and install the Qubes Proxy Tools, so that you can pass your (external?) DVD-Drive via sys-usb to the multimedia App-VM. Strangely the qubes-usb-proxy seems to be installed within the fedora template but not in the debian template.
   In Debian Template VM:
   sudo apt-get install qubes-usb-proxy

2) Install libdbdread4 from the default repositories:
   In Debian Template VM:
   apt-get install libdvdread4
   
3) Install libdvdcss for the decryption of CSS protected-DVDs.
   Because of license restrictions in various countries this can't be done from the Debian repositories but needs to be installed manually.
   (not that hard :-)).
   Download the packaged .deb from: http://www.deb-multimedia.org/dists/stable/main/binary-amd64/package/libdvdcss2
   In Debian Template VM:
   wget http://www.deb-multimedia.org/pool/main/libd/libdvdcss/libdvdcss2_1.3.0-dmo1_amd64.deb
   sudo dpkg -i libdvdcss2_1.3.0-dmo1_amd64.deb

4) I like to use VLC to playback Video/DVDs - you might want to use another player, but VLC works fine.
   As this is not installed in the default Debian Template:
   In Debian Template VM:
   sudo apt-get install vlc
   This will also install some dependencies.

5) Shutdown the Debian Template VM and launch your multimedia App VM

6) Plugin your external USB DVD-Drive (if you don't have an internal drive) and pass it to the multimedia App VM
   In dom0:
   qvm-usb -a multimedia sys-usb:3-6

7) Launch VLC
   qvm-run multimedia vlc
   Warning: a window will open in the background which will ask for collecting metadata information.
   I haven't seen the window as it was covered by the VLC main window, so that I couldn't launch any commands in this window.

8) Open DVD within VLC:
   Media > Open Disk
   You can leave the defaults (/dev/sr0) and just hit play

Enjoy your DVD
